# Geant4 Plastic Scintillator Simulation

This project simulates plastic scintillators and computes the total energy deposition by primary particles. It also creates a ROOT file with information about the photons generated via scintillation and the energy deposition.

The program uses the method `GetTotalEnergyDeposit()` to calculate the energy deposition by primary particles.

## Running the Program

To run the program:

```bash
cd Geant4-Plastic-Scintillator-Simulation
mkdir build
cd build
cmake ..
make
```
## Arrangement Configurations

### 1) SC (Scintillator Configuration)

The program simulates a single scintillator and allows you to choose between two geometries (Hexagonal or Rectangular) and two scintillator types (BC404 or EJ208). You can also specify the thickness (in mm) and the number of photosensors (up to two).



To execute:
```
./sim <arrangement> <type> <Geometry> <thickness> <numberOfSensors>
```

Example:
```
./sim SC BC404 R 20 2 run.mac
```
The last parameter is optional and will execute the batch mode. Two-sensor simulation is not available for hexagonal geometry.

If using multithreaded mode, modify the "run.mac" file to change the number of threads your computer can use and the number of events Geant4 will simulate (1 muon per event). Note that in this configuration, the code allows only muons to be generated, and only one muon is generated per event. You can customize this in the "generator.cc" file. Additionally, when using batch mode, the code will run 1000 events by default, but this can be changed through the "run.mac" file.

### 2) SCBT (Scintillator Beam Test)
It simulates several scintillators with fixed thickness and distance between them. It is a mix between scintillators EJ208 and BC404, as well as rectangular and hexagonal geometries. Particles are shot as a circular beam. The objective is to get the energy deposition by primary particles, information on photons generated through scintillation, and information on noise generated by secondary particles.


To execute: 
```
cd Geant4-Plastic-Scintillator-Simulation

cd build

./sim \<arrangement> \<particleName> \<numberOfParticles> \<particleEnergy> \<numberOfEvents> rungps.mac
```
Example:
```
./sim SCBT pi+ 7000 10 5 rungps.mac7
```
Particle energy must be specified in GeV, and particle name must use Geant4 syntax.

It is possible to execute without the last parameter to get visualization of the simulation. However, the simulation must not be started this way (i.e., the start button must not be pressed, not even for one event), as significant computational power is required to run. When using multithreaded mode, the number of threads to use must be configured in the "rungps.mac" and "run.mac" files.


### 3) RPCBT (RPC Beam Test)
It is almost the same configuration as SCBT, with the only difference being that two RPCs are colocated approximately halfway through the arrangement. No information is collected from RPCs; they are placed to study the noise generated by their presence.

To execute: 
```
cd Geant4-Plastic-Scintillator-Simulation

cd build

./sim \<arrangement> \<particleName> \<numberOfParticles> \<particleEnergy> \<numberOfEvents> rungps.mac
```
Example:
```
./sim RPCBT pi+ 7000 10 5 rungps.mac7
```
Particle energy must be specified in GeV, and particle name must use Geant4 syntax.

It is possible to execute without the last parameter to get visualization of the simulation. However, the simulation must not be started this way (i.e., the start button must not be pressed, not even for one event), as significant computational power is required to run. When using multithreaded mode, the number of threads to use must be configured in the "rungps.mac" and "run.mac" files.


